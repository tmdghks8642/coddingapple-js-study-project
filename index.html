<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="./main.css" rel="stylesheet">
    <title>Hello, world!</title>
  </head>
  <body>

    <nav class="navbar navbar-light bg-light">
        <div class="container-fluid">
          <span class="navbar-brand">Navbar</span>
          <span class="badge bg-dark">Dark ğŸ”„</span>
          <button class="navbar-toggler" type="button">
            <span class="navbar-toggler-icon"></span>
          </button>
        </div>
      </nav> 
      <div class="topscroll"></div>  
      
      <div style="overflow: hidden;">
        <div class="slide-container">
          <div class="slide-box">
            <img src="./img/car1.png" draggable="false">
          </div>
          <div class="slide-box">
            <img src="./img/car2.png">
          </div>
          <div class="slide-box">
            <img src="./img/car3.png">
          </div>
        </div>
      </div>
      
      <button id="open" >ë¡œê·¸ì¸ </button>

      <div class="black-bg hidden">
        <div class="white-bg">
          <form action="success.html">
            <h4>ë¡œê·¸ì¸í•˜ì„¸ìš”</h4>
            <div class="my-3">
              <input type="text" class="form-control" id="userId">
             </div>
             <div class="my-3">
               <input type="password" class="form-control" id="userPaw">
             </div>
             <button type="submit" class="btn btn-primary">ì „ì†¡</button>
             <button type="button" class="btn btn-danger" id="close">ë‹«ê¸°</button>
          </form> 
        </div>
      </div> 
      
      <button class="slide-1">1</button>
      <button class="slide-2">2</button>
      <button class="slide-3">3</button>
      <button class="befor">ì´ì „</button>
      <button class="next">ë‹¤ìŒ</button>
      
      <div class="alert alert-danger">
        <span id="numCount">5</span>ì´ˆ ì´ë‚´ êµ¬ë§¤ì‹œ ì‚¬ì€í’ˆ ì¦ì •!
    </div>

    <div class="lorem" style="width: 200px; height: 100px; overflow-y: scroll">
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quae voluptas voluptatum minus praesentium fugit debitis at, laborum ipsa itaque placeat sit, excepturi eius. Nostrum perspiciatis, eligendi quae consectetur praesentium exercitationem.
    </div>


  <div style="height: 2000px;"></div>



  <script>
    // ì‚¬ì§„ ìºëŸ¬ì…€ ìŠ¤ì™€ì´í”„ ê¸°ëŠ¥ 
    // mousedown ì´ë²¤íŠ¸ ==> ë§ˆìš°ìŠ¤ í´ë¦­í–ˆì„ë•Œ
    // mouseup ì´ë²¤íŠ¸ ==> ë§ˆìš°ìŠ¤ ë—„ ë•Œ 
    // mousemove  ì´ë²¤íŠ¸ ==> í•´ë‹¹ ìš”ì†Œì— ë§ˆìš°ìŠ¤ë¥¼ ì›€ì§ì˜€ì„ ë•Œ ë°œë™ 

    let num = 0 ; // ë§ˆìš°ìŠ¤ë¥¼ ì°ì€ ê³³ì—ì„œ ì´ë™í•œê³³ ê¹Œì§€ì˜ ê±°ë¦¬ ì•Œ ê¸° ìœ„í•´ ë§Œë“  ë³€ìˆ˜ 
    let click=false ;  // í´ë¦­ì‹œì—ë§Œ ì‚¬ì§„ì´ ìŠ¬ë¼ì´ë“œ ë˜ê²Œ í•˜ê¸° ìœ„í•œ ë³€ìˆ˜ 
    let gogo = 0
    document.querySelectorAll('.slide-box')[0].addEventListener("mousedown",(e)=>{
      // e.clientX  ==> ì‚¬ìš©ì‹œ ë§ˆìš°ìŠ¤ x ì¢Œí‘œ ì•Œë ¤ì¤Œ  
      // e.clientY  ==> ì‚¬ìš©ì‹œ ë§ˆìš°ìŠ¤ Y ì¢Œí‘œ ì•Œë ¤ì¤Œ  
       num =e.clientX;
       click = true;
    })
    // ë§ˆìš°ìŠ¤ ì›€ì§ì¼ë•Œ ë“œë˜ê·¸ í•œ ë§Œí¼ ì´ë™!
    document.querySelectorAll('.slide-box')[0].addEventListener("mousemove",(e)=>{
       gogo = e.clientX - num
      console.log(gogo)
      if(click){
        document.querySelector('.slide-container').style.transform = `translateX(${gogo}px)`;

      }
    })
    // ë§ˆìš°ìŠ¤ë¥¼ ë—„ ë•Œ ì´ë²¤íŠ¸ ë°œë™!  
    document.querySelectorAll('.slide-box')[0].addEventListener("mouseup",(e)=>{
     // ë§ˆìš°ìŠ¤ ë•Œë©´ ë“œë˜ê·¸ ëª»í•˜ê²Œ í•˜ê¸° ìœ„í•´ì„œ false ë„£ê¸° 
      click =false;
        // ë“œë˜ê·¸ ìˆ«ìê°€ í•´ë‹¹ ì¡°ê±´ì— ì¼ì¹˜í•˜ë©´ ë‹¤ìŒ ì‚¬ì§„ì„ ë³´ì—¬ì£¼ê±°ë‚˜ ì¡°ê±´ì— í•´ë‹¹í•˜ì§€ ì•Šìœ¼ë©´ ì²«ë²ˆì§¸ ì‚¬ì§„ ë³´ì—¬ì£¼ê¸°
      if(gogo < -300 ){
          document.querySelector('.slide-container').style.transform = `translateX(-100vw)`;
        }else {
          document.querySelector('.slide-container').style.transform = `translateX(0vw)`;
        }
    })









    // ìŠ¤í¬ë¡¤ ì‹œ ìƒë‹¨ div ë°•ìŠ¤ ë¹¨ê°„ìƒ‰ìœ¼ë¡œ ì±„ì›Œì§€ëŠ” ëª¨ì…˜
    function topSlide(){
      const htmlScr = window.scrollY // 1760
     let num = 1760 *0.3
     if (htmlScr < 50){
      document.querySelector('.topscroll').style.width = '0%'
     }
     if(num <htmlScr){
        document.querySelector('.topscroll').style.width = '30%'
        num = 1760 *0.6
      }
       if(num<htmlScr){
        document.querySelector('.topscroll').style.width = '60%'
        num = 1760 * 0.9
      }
       if(num<htmlScr){
        document.querySelector('.topscroll').style.width = '100%'
      }
    }
    window.addEventListener('scroll',topSlide)

    // ì‘ì€ div ë°•ìŠ¤ ì•ˆì— ìŠ¤í¬ë¡¤ ë‹¤ ë‚´ë¦¬ë©´ ë‹¤ ì½ì—ˆëƒ ë©”ì„¸ì§€ ëœ¨ê²Œ í•´ì£¼ê¸° 
    document.querySelector('.lorem').addEventListener('scroll',()=>{ 
      const divHight = document.querySelector('.lorem').clientHeight // div ë°•ìŠ¤ì˜  ë†’ì´
      const divScrHig =document.querySelector('.lorem').scrollHeight // div ë°•ìŠ¤ ìŠ¤í¬ë¡¤ ë†’ì´
      const divScr =document.querySelector('.lorem').scrollTop; // ìŠ¤í¬ë¡¤ ì–¼ë§ˆë‚˜ í–ˆëŠ”ì§€ 
            
             if( (divHight+divScr) > (divScrHig-10)) {
              alert("ë‹¤ ì½ìœ¼ì…¨êµ°ìš”!")
             }
        
          })

          // ìƒë‹¨ nav ë°” ì‚¬ì´ì¦ˆ ì¡°ì ˆ  ì˜¬ë¦¬ë©´ í¬ê²Œ ìŠ¤í¬ë¡¤ í•˜ë©´ ì‘ê²Œ
            window.addEventListener('scroll',()=>{ 
              if(window.scrollY > 200){
                document.querySelector('.navbar-brand').style.fontSize ='20px';
              }
              else if(window.scrollY < 200){
                document.querySelector('.navbar-brand').style.fontSize ='30px';
              }
            })
    


            // ì¼€ëŸ¬ì…€ êµ¬í˜„ 1,2,3 ë²„íŠ¼ ì´ì „,ë‹¤ìŒ ë²„íŠ¼ ëˆ„ë¥´ë©´ ì‚¬ì§„ ì˜†ìœ¼ë¡œ ìŠ¬ë¼ì´ë“œ 
          const slideBut1 = document.querySelector('.slide-1')  
          const slideBut2 = document.querySelector('.slide-2')
          const slideBut3 = document.querySelector('.slide-3')
          const slideContainer = document.querySelector('.slide-container')
          const befor = document.querySelector('.befor')
          const next = document.querySelector('.next')
          let now = 1;
          befor.addEventListener('click',()=> {
            now -=1;
              slideContainer.style.transform ='translateX(-'+ `${now-1}` + '00vw)'
          })
          next.addEventListener('click',()=>{
              slideContainer.style.transform ='translateX(-' + now + '00vw)'
              now +=1;
          })
          slideBut1.addEventListener('click',()=>{
            slideContainer.style.transform='translateX(0vw)'
          })
          slideBut2.addEventListener('click',()=>{
            slideContainer.style.transform ='translateX(-100vw)'
          })
          slideBut3.addEventListener('click',()=>{
            slideContainer.style.transform ='translateX(-200vw)'
          })





              // ì—˜ë¦¬ë¨¼íŠ¸ ëª‡ì´ˆë’¤ì— ì‚¬ë¼ì§€ê²Œ í•˜ëŠ” ë²• 
          const alertBox = document.querySelector('.alert')
          const numCount = document.querySelector('#numCount')
          function numberCount (){
            if(numCount.textContent > 0){
              numCount.textContent = numCount.textContent-1
            } else if(numCount.textContent < 1 ){
               alertBox.classList.add('hidden')
               clearInterval(endCount)
            }}
         let endCount = setInterval(numberCount,1000)

            


          // ìƒë‹¨ nav ë°” ì˜¤ë¥¸ìª½ì— dark Light êµ¬í˜„
          let count = 0
          let liteDark =  document.querySelector('.badge')
          liteDark.addEventListener('click', ()=>{
                count++;
              if(count%2 === 1){
                liteDark.textContent = 'Light ğŸ”„'
              }
              else {
                liteDark.textContent = 'Dark ğŸ”„'
              }
          })






            // ì•„ì´ë”” ì…ë ¥ / ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ êµ¬í˜„ 
           document.getElementsByClassName('navbar-toggler')[0].addEventListener('click',function(){
           document.getElementsByClassName('list-group')[0].classList.toggle('show')
            })

            const close = document.querySelector(".black-bg")
            const closeButn = document.querySelector("#close")
            const open = document.querySelector("#open")
     
        function hiddenalert (){
         close.classList.toggle('hidden')
       
        }
      open.addEventListener('click',hiddenalert)
      closeButn.addEventListener('click',hiddenalert)
      close.addEventListener('click',(e)=>{
        if(e.target === close){
          close.classList.toggle('hidden')
        }
      })
     const userId =  document.querySelector('#userId')
        const userPaw = document.querySelector('#userPaw')
      document.querySelector('.btn-primary').addEventListener('click',(event)=>{
        if(userId.value=== ''|| !/\S+@\S+\.\S+/.test(userId.value) ){
          alert('ì•„ì´ë””ëŠ” ì´ë©”ì¼í˜•ì‹ìœ¼ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”')
          event.preventDefault()
        } else if(userPaw.value === ''|| userPaw.value.length <6 || /[A-Z]/.test(userPaw.value)===false){
          event.preventDefault()
  
          alert('ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”(6ì ì´ìƒìœ¼ë¡œ) ì•ŒíŒŒë²³ ëŒ€ë¬¸ì 1ê°œ í¬í•¨.')
        } 
    
      })

        </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
  </body>
</html>